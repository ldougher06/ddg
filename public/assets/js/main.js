// MODULE
'use strict';

var ddg = angular.module('ddg', ['ngRoute']);

// ROUTES
ddg.config(function ($routeProvider) {
  $routeProvider.when('/', {
    templateUrl: './assets/partials/home.html',
    controller: 'homeController'
  }).when('/results', {
    templateUrl: './assets/partials/results.html',
    controller: 'resultsController'
  });
});

// SERVICES
ddg.service('searchService', function () {});

// CONTROLLERS
ddg.controller('homeController', ['$scope', 'searchService', function ($scope, searchService) {

  // $scope.search = searchService.search;

  $scope.$watch('search', function () {
    searchService.search = $scope.search;
  });
}]);

ddg.controller('resultsController', ['$scope', 'searchService', function ($scope, searchService) {

  $scope.search = searchService.search;
  $.ajax({
    type: 'GET',
    url: 'https://api.duckduckgo.com/',
    data: { q: $scope.search, format: 'json', pretty: 1 },
    jsonpCallback: 'jsonp',
    dataType: 'jsonp',
    skip_disambig: 1
  }).then(function (data) {
    $scope.results = data.RelatedTopics;
    console.log(data.RelatedTopics);
    $scope.$apply();
  });
}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9hc3NldHMvanMvbWFpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSxJQUFJLEdBQUcsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7OztBQUc3QyxHQUFHLENBQUMsTUFBTSxDQUFDLFVBQVUsY0FBYyxFQUFFO0FBQ25DLGdCQUFjLENBRWIsSUFBSSxDQUFDLEdBQUcsRUFBRTtBQUNULGVBQVcsRUFBRSw2QkFBNkI7QUFDMUMsY0FBVSxFQUFFLGdCQUFnQjtHQUM3QixDQUFDLENBRUQsSUFBSSxDQUFDLFVBQVUsRUFBRTtBQUNoQixlQUFXLEVBQUUsZ0NBQWdDO0FBQzdDLGNBQVUsRUFBRSxtQkFBbUI7R0FDaEMsQ0FBQyxDQUFBO0NBQ0gsQ0FBQyxDQUFDOzs7QUFHSCxHQUFHLENBQUMsT0FBTyxDQUFDLGVBQWUsRUFBRSxZQUFVLEVBRXRDLENBQUMsQ0FBQzs7O0FBR0gsR0FBRyxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLFFBQVEsRUFBRSxlQUFlLEVBQ3pELFVBQVMsTUFBTSxFQUFFLGFBQWEsRUFBRTs7OztBQUk5QixRQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxZQUFXO0FBQ2pDLGlCQUFhLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7R0FDdEMsQ0FBQyxDQUFDO0NBRU4sQ0FBQyxDQUFDLENBQUM7O0FBRUosR0FBRyxDQUFDLFVBQVUsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDLFFBQVEsRUFBRSxlQUFlLEVBQzVELFVBQVMsTUFBTSxFQUFFLGFBQWEsRUFBRTs7QUFFOUIsUUFBTSxDQUFDLE1BQU0sR0FBRyxhQUFhLENBQUMsTUFBTSxDQUFDO0FBQ3JDLEdBQUMsQ0FBQyxJQUFJLENBQUM7QUFDRCxRQUFJLEVBQUUsS0FBSztBQUNYLE9BQUcsRUFBRSw2QkFBNkI7QUFDbEMsUUFBSSxFQUFFLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFDO0FBQ3BELGlCQUFhLEVBQUUsT0FBTztBQUN0QixZQUFRLEVBQUUsT0FBTztBQUNqQixpQkFBYSxFQUFFLENBQUM7R0FDakIsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLElBQUksRUFBRTtBQUNwQixVQUFNLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUM7QUFDcEMsV0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7QUFDaEMsVUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0dBQ2pCLENBQUMsQ0FBQztDQUNWLENBQUMsQ0FBQyxDQUFDIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBNT0RVTEVcbnZhciBkZGcgPSBhbmd1bGFyLm1vZHVsZSgnZGRnJywgWyduZ1JvdXRlJ10pO1xuXG4vLyBST1VURVNcbmRkZy5jb25maWcoZnVuY3Rpb24gKCRyb3V0ZVByb3ZpZGVyKSB7XG4gICRyb3V0ZVByb3ZpZGVyXG5cbiAgLndoZW4oJy8nLCB7XG4gICAgdGVtcGxhdGVVcmw6ICcuL2Fzc2V0cy9wYXJ0aWFscy9ob21lLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdob21lQ29udHJvbGxlcidcbiAgfSlcblxuICAud2hlbignL3Jlc3VsdHMnLCB7XG4gICAgdGVtcGxhdGVVcmw6ICcuL2Fzc2V0cy9wYXJ0aWFscy9yZXN1bHRzLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdyZXN1bHRzQ29udHJvbGxlcidcbiAgfSlcbn0pO1xuXG4vLyBTRVJWSUNFU1xuZGRnLnNlcnZpY2UoJ3NlYXJjaFNlcnZpY2UnLCBmdW5jdGlvbigpe1xuXG59KTtcblxuLy8gQ09OVFJPTExFUlNcbmRkZy5jb250cm9sbGVyKCdob21lQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJ3NlYXJjaFNlcnZpY2UnLFxuICBmdW5jdGlvbigkc2NvcGUsIHNlYXJjaFNlcnZpY2UpIHtcblxuICAgIC8vICRzY29wZS5zZWFyY2ggPSBzZWFyY2hTZXJ2aWNlLnNlYXJjaDtcblxuICAgICRzY29wZS4kd2F0Y2goJ3NlYXJjaCcsIGZ1bmN0aW9uKCkge1xuICAgICAgc2VhcmNoU2VydmljZS5zZWFyY2ggPSAkc2NvcGUuc2VhcmNoO1xuICAgIH0pO1xuXG59XSk7XG5cbmRkZy5jb250cm9sbGVyKCdyZXN1bHRzQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJ3NlYXJjaFNlcnZpY2UnLFxuICBmdW5jdGlvbigkc2NvcGUsIHNlYXJjaFNlcnZpY2UpIHtcblxuICAgICRzY29wZS5zZWFyY2ggPSBzZWFyY2hTZXJ2aWNlLnNlYXJjaDtcbiAgICAkLmFqYXgoe1xuICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgIHVybDogJ2h0dHBzOi8vYXBpLmR1Y2tkdWNrZ28uY29tLycsXG4gICAgICAgICAgZGF0YTogeyBxOiAkc2NvcGUuc2VhcmNoLCBmb3JtYXQ6ICdqc29uJywgcHJldHR5OiAxfSxcbiAgICAgICAgICBqc29ucENhbGxiYWNrOiAnanNvbnAnLFxuICAgICAgICAgIGRhdGFUeXBlOiAnanNvbnAnLFxuICAgICAgICAgIHNraXBfZGlzYW1iaWc6IDFcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgJHNjb3BlLnJlc3VsdHMgPSBkYXRhLlJlbGF0ZWRUb3BpY3M7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLlJlbGF0ZWRUb3BpY3MpO1xuICAgICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xuICAgICAgICAgIH0pO1xuICB9XSk7XG5cblxuIl19
